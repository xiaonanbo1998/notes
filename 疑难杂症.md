# 2021/8/30-2021/8/31

- [x] JSON对象：[JSON.parse() | 菜鸟教程 (runoob.com)](https://www.runoob.com/json/json-parse.html)
- [x] VUE的set方法：[vue或uniapp中this.$set()时的语法格式（写法）_段龙龙博客 (duanlonglong.com)](http://www.duanlonglong.com/qdjy/953.html)
- [x] git关于show指令：[git show命令 - Git教程™ (yiibai.com)](https://www.yiibai.com/git/git_show.html)
- [x] npm相关指令，安装uView，解决package-lock.json文件忽略问题
- [x] textarea：标点符号，不换行情况
- [x] 机构后台登陆![image-20210830162132217](C:\Users\zyc\AppData\Roaming\Typora\typora-user-images\image-20210830162132217.png)
- [x] 蓝牙
  - uni.openBluetoothAdapter：【初始化】蓝牙模块
  - uni.closeBluetoothAdapter：【关闭】蓝牙模块
  - uni.onBluetoothAdapterStateChange：监听【适配器状态变化】的事件
  - uni.getBluetoothAdapterState：获取【蓝牙适配器状态】
  - uni.startBluetoothDevicesDiscovery：【开始搜寻】附近蓝牙设备，对应【stop】
  - uni.stopBluetoothDevicesDiscovery：【停止搜寻】附近蓝牙外围设备，对应【start】
  - uni.onBluetoothDeviceFound：监听找到新设备的事件，添加到【uni.getBluetoothDevices】接口的数组中
  - uni.getBluetoothDevices：获取已发现的蓝牙设备
  - uni.getConnectedBluetoothDevices：根据【uuid】获取【已连接的设备】
- [x] 低功耗蓝牙
  - uni.createBLEConnection：连接【低功耗】蓝牙设备
  - uni.closeBLEConnection：断开【低功耗】蓝牙设备
  - uni.writeBLECharacteristicValue：向【特征值】写入【二进制数据】
  - uni.readBLECharacteristicValue：读取蓝牙设备【特征值】的【二进制数据】
  - uni.notifyBLECharacteristicValueChange：启用蓝牙设备【特征值变化】的【notify功能】
  - uni.onBLEConnectionStateChange：监听蓝牙设备【连接状态改变】的事件
  - uni.onBLECharacteristicValueChange：监听蓝牙设备【特征值变化】的事件
  - uni.getBLEDeviceServices：获取蓝牙设备所有服务
  - uni.getBLEDeviceCharacteristics：获取蓝牙设备某个服务中【所有特征值】
- [ ] [js 16进制转10进制，二进制转十进制（八进制）-亮术网 (liangshunet.com)](http://www.liangshunet.com/ca/201405/355653651.htm)
- [x] 总结：
  - 实现了【蓝牙连接】，【数据解析】，【数据上传】
  - 界面简陋，没有针对蓝牙服务的提示信息，没有自动重连功能，没有指定连接功能

# 2021/09/01-2021/09/03

- [x] 地图，透明
  - ![image-20210902164156306](C:\Users\zyc\AppData\Roaming\Typora\typora-user-images\image-20210902164156306.png)
  
- [x] 柱状图

  - [x] 圆角

  ![image-20210901110949123](C:\Users\zyc\AppData\Roaming\Typora\typora-user-images\image-20210901110949123.png)

  - [x] 顶部多个数值

  - [x] 条状，背景色：[echarts渐变色实现方法 - 我一直是颗葡萄 - 博客园 (cnblogs.com)](https://www.cnblogs.com/liuwei54/p/9962182.html#:~:text=echarts渐变色实现方法. 我使用的是echarts 4.2版本. 在管网的文档中可查看其 配置项 ，以柱状图为例：. 首先在series中找type%3A'line'. 然后找到areaStyle.,0% 处的颜色 }%2C {  offset%3A 1%2C )

  - [x] X轴隐藏

  ```javascript
  xAxis:{
      type: 'value',
      boundaryGap: [0, 0.01],
      show: false,
  }
  ```

- [ ] VueRouter：跳转，[Vue-Router 源码分析(七) VueRouter.push()的详解 - 大沙漠 - 博客园 (cnblogs.com)](https://www.cnblogs.com/greatdesert/p/12475265.html#:~:text=通过VueRouter实例的push,()操作，可以进行路由跳转，对于组件来说，它绑定的是click事件，最后也是通过执行push ()方法来进行路由跳转的。)和[vue router.push(),router.replace(),router.go() - 改吧 - 博客园 (cnblogs.com)](https://www.cnblogs.com/lwwen/p/7245083.html)

  - [ ] push()方法
  - [ ] replace()方法
  - [ ] back()方法
  - [ ] go()方法

- [ ] Vue.$ref用法：[(19条消息) vue ref($refs)用法_wei_dan1129的博客-CSDN博客](https://blog.csdn.net/wei_dan1129/article/details/108220525)

- [ ] Vue绘图时，数据加载问题，以及生命周期相关问题

- [x] echarts

  - [x] 组件，接口
  - [x] 重绘问题：[vue获取dom元素的宽高 - 简书 (jianshu.com)](https://www.jianshu.com/p/1f323ecca7d3)
  - [x] 组件封装，同个页面多次调用
  - [x] 函数触发机制
  
- [ ] 大屏展示

  - [ ] rgba和opacity差异

# 2021/09/07-2021/09/08

- [ ] 蓝牙APP优化
  - [x] 封装蓝牙相关API，参考【commom/ws-heartbeat.js】，类是大驼峰
  - [x] 指向连接，根据deviceID，指定连接对象
    - [x] 单例概念，涉及到【设计模型】，理解比较复杂
    - [x] 构造函数，实例方法，静态方法，原型方法
    - [ ] 设计模式：[JavaScript 单例模式_w3cschool](https://www.w3cschool.cn/zobyhd/tqlv9ozt.html)
    - [x] 闭包：闭包是一个函数：[JavaScript 闭包_w3cschool](https://www.w3cschool.cn/javascript/js-function-closures.html)
  - [x] 重连：创立连接的API有bug
  - [x] 历史数据
  - [x] 获取服务列表：如果直接在【连接接口】的成功函数中调用【获取服务接口】，无法获取服务列表：添加延时
- [ ] 维护和管理
  - [ ] 设备的状态
  - [ ] 设备的服务
  - [ ] 设备的特征值
  - [ ] 做成类似【单例】的列表，进行管理
- [x] 视图层，解析协议层，蓝牙底层三等分
- [ ] 数据解析
  - [x] 体温枪：【for-in循环】的i是字符串，不是数字；【Sring.fromCharCode()函数】，是把【十进制数据】转为【ASCII字符串】
  - [ ] 体温贴
    - [x] 解析数据
    - [x] 手机展示
    - [ ] 写入【查询历史记录】指令
      - [ ] 设置时间：F007E1070B10101D0027
      - [ ] 设置当前时间，15点：F007E4080A0F000000FC
      - [ ] 请求历史数据：F80100000000000000F9
      - [ ] 清空历史数据：F40000000000000000F4
    - [ ] 手机展示
  - [ ] 统一管理【体温枪】和【体温贴】

# 2021/09/10

- [ ] 教师节快乐~

# 2021/09/13-2021/09/15

- [ ] 单例模式
  - [ ] 全局变量，局部变量，内嵌函数
  - [ ] 闭包
  - [ ] 单例特点：全局唯一，全局访问
  - [ ] 惰性单例
  - [ ] 参考文章
    - [(21条消息) 浅析JavaScript设计模式——单例模式_尐轩web前端网络日志-CSDN博客_web前端单例模式](https://blog.csdn.net/q1056843325/article/details/52933426)
    - [JavaScript 单例模式_w3cschool](https://www.w3cschool.cn/zobyhd/tqlv9ozt.html)
- [ ] uniapp配合ucharts
  - [x] 安装，试运行ucharts
    - 注意项目依赖的升级
    - 注意插件的使用方式，参考官方最新文档
  - [x] 尝试生成图表，或手动编写图表
  - [x] 移植到患者端APP
  - [x] 针对小程序和APP优化
  - [x] 移植蓝牙模块，数据解析模块，到患者端
    - 能否实时更新数据：devcon，
    - 能否实时绘制曲线图
- [ ] 实时测量页面
  - [x] 页面基本UI实现
  - [x] 动画和弹框
  - [ ] 用户和设备绑定，未完成；当前只能扫码获取【macaddress】，无法获取【设备id】，来上传数据，进行绑定
    - [x] 每次请求，斜杠结束
  - [ ] UI优化，关于几个圆圈
  - [ ] 【setInterval()】和【setTimeout()】函数实现
- [ ] 问题
  - [ ] 关于Vue-clid生成的文件
  - [ ] 关于依赖的安装，升级，卸载
    - [将所有 Node.js 依赖包更新到最新版本 (nodejs.cn)](http://nodejs.cn/learn/update-all-the-nodejs-dependencies-to-their-latest-version)
    - [npm update常用命令使用 - 爱博子 - 博客园 (cnblogs.com)](https://www.cnblogs.com/lxg0/p/8072890.html)
  - [ ] 配置镜像源，taobao源，意义与方法
  - [ ] 软件打包：Hbuilder打包，选择自定义基座
  - [x] 患者端打包：dist根目录下
  - [ ] 体温贴连接之后，手动关闭体温贴，体温贴无法立刻反馈断连，APP无法立刻进行重连
  - [ ] 体温数据的分类型展示，没有严格根据数据，分类【低中高】
  - [x] 数据存储到store，全局监听
  - [ ] this.$root，![image-20210916161003683](C:\Users\zyc\AppData\Roaming\Typora\typora-user-images\image-20210916161003683.png)
  - [x] 切换页面，不能成功执行监听函数

# 2021/09/17-2021/09/18

- [x] 正在测量页面的最大温度值，没有变化
- [x] 初始状态进入，曲线图，最大最小值展示有问题
- [x] 记录表，没有数据的提示信息
- [x] 封装监听在store中，在onshow函数中，进入之后判断是否已经监听；以及不撤销对数据的解析的监听（！！！）
- [x] 个人中心页面，实时数据展示有问题
- [x] 小程序和APP隔离（#de...），小程序没有两个曲线图（！！！）
  - [x] 小程序个人中心，迁移【温度曲线】和【测量记录】卡片
- [x] 患者APP不能安装在苹果端，使用标准基座
- [x] 个人中心Y轴设置
- [x] 曲线页面的线条虚实问题

# 2021/09/22

- [x] 打包：指令【npm run build mp-weixin】，预览，发布到【小程序助手】，压缩文件大小

- [ ] 注销功能实现

- [x] 不同区段温度的动画展示，颜色展示有问题：源代码开发者工具，正常运行，真机有误

  - [ ] 方案一：旋转+变色；可以旋转，不能变色
  - [ ] 方案二：展示与否【v-show】
  - [x] 方案三：展示与否【visibility】

- [x] 不同区段温度的标签展示，颜色变化

- [x] 图标的分辨率问题：下载【高清视网膜】版本，大小约1KB

- [ ] 【measuring页面】，自动获取绑定设备的逻辑

- [x] 学习【AutoX.js】

- [x] 添加样式

  ```javascript
  <div :class="{newClass:true}"></div>
  <div style="margin-top:20px;"></div>
  ```

- [x] 重复监听：store添加监听状态，不同地方设置【true or false】

- [x] AutoX.js的初始化


# 2021/09/23-2021/09/24

- [ ] 熟悉autox.js代码
  - [ ] 通用类的封装，单个脚本的封装；两者进行对比
  - [x] 模块的导出与引入
  - [x] APP启动方式实现，具体操作的实现，授权操作的实现
- [x] 实现【青桔单车-小程序】，【签到】功能
- [ ] 实现【建行生活-APP】，【签到】功能
  - [ ] 滑动之后，不能正确获取控件：尝试通过【click(params)】、【text(params).findOnce()】、和【text(params).findOnce().parent()】等等
  - [ ] 【clickable】点击键，可能为false，否则不能即点击
- [ ] 实现【淘宝-APP】，【红包签到】功能
